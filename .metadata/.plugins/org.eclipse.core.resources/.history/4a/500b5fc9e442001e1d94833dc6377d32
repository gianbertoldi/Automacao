package task;

import static org.junit.Assert.assertEquals;

import org.openqa.selenium.WebDriver;

import page.CategoriaPage;
import page.EnderecoPage;
import utils.ConversorDeValores;
import utils.GerenciamentoDriver;
import utils.TipoBrahma;

public class zeDeliveryTask {

	GerenciamentoDriver gerenciamentoDriver;
	EnderecoPage enderecoPage;
	CategoriaPage categoraPage;
	TipoBrahma tipoBrahma;
	ConversorDeValores coverterValores;
	
	public zeDeliveryTask(WebDriver driver) {
		enderecoPage = new EnderecoPage(driver);
		categoraPage = new CategoriaPage(driver);
	}
	
	public void validationEnderecoZeDelivary() {	
		enderecoPage.souMaiorDeIdade();
		enderecoPage.selectInputEndereco();
		enderecoPage.preecherRua();
		enderecoPage.primeiraOpcao();
		enderecoPage.numeroEndereco();
		enderecoPage.semComplemento();
		enderecoPage.selectVerProdutos();
	}
	
	public void validaCategoriaCerveja() {
		categoraPage.selectCategoriaCerveja();
		categoraPage.selecionarMarcaBrahma();
		categoraPage.selecionarTipoBrahma(TipoBrahma.Chopp1Lt.getMilliliters());
		categoraPage.addSeisUnidades();
		String valor = categoraPage.guardarValorDoProduto();
		categoraPage.addCarrinho();
		String frete= categoraPage.guardarFrete();
		double calcularTotal = coverterValores.convert(valor) + coverterValores.convert(frete);
		String stringTotal = Double.toString(calcularTotal);
		stringTotal.replace('.', ',');
		String total = categoraPage.valorTotal();
		assertEquals("R$ 120,49", total);
	}
}
